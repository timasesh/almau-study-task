# Функциональность произвольных запросов от студентов

## Описание
Реализована система произвольных запросов от студентов к администраторам, позволяющая студентам отправлять сообщения без привязки к конкретному курсу или действию.

## Реализованные компоненты

### 1. Модель данных
- **StudentMessageRequest** - модель для хранения произвольных запросов
  - `student` - связь с моделью Student
  - `message` - текст сообщения
  - `status` - статус запроса (pending/approved/rejected)
  - `admin_response` - ответ администратора
  - `created_at` - дата создания
  - `reviewed_at` - дата рассмотрения

### 2. Формы
- **StudentMessageRequestForm** - форма для отправки произвольного запроса

### 3. Views
- **student_page** - обновлён для обработки произвольных запросов
- **admin_page** - обновлён для отображения и обработки запросов

### 4. Шаблоны

#### Студентская страница (`student_page.html`)
- Добавлена вкладка "Запросы" с двумя разделами:
  - "Запросы на добавление курсов" (существующая функциональность)
  - "Произвольные запросы" (новая функциональность)
- Отображение списка отправленных запросов с их статусами
- Форма для отправки нового произвольного запроса

#### Админская страница (`admin_page_test.html`)
- Обновлена вкладка "Запросы" с тремя разделами:
  - "Редактирование профиля"
  - "Добавление курсов" 
  - "Произвольные запросы" (новый раздел)
- Таблица с запросами в ожидании
- Формы для подтверждения/отклонения с возможностью ответа

### 5. Админка Django
- **StudentMessageRequestAdmin** - админка для управления запросами
  - Просмотр всех запросов
  - Фильтрация по статусу и дате
  - Поиск по студенту и сообщению
  - Возможность изменения статуса и добавления ответа

## Пользовательские сценарии

### Для студента:
1. Зайти на страницу студента
2. Перейти на вкладку "Запросы"
3. В разделе "Произвольные запросы" заполнить форму
4. Отправить запрос
5. Просматривать статус запроса и ответ администратора

### Для администратора:
1. Зайти в админку
2. Перейти на вкладку "Запросы"
3. Выбрать раздел "Произвольные запросы"
4. Просмотреть список запросов в ожидании
5. Подтвердить или отклонить запрос с ответом

## Уведомления
- При отправке запроса студент получает уведомление
- При подтверждении/отклонении запроса студент получает уведомление с ответом администратора

## Статусы запросов
- **В ожидании** (pending) - запрос отправлен, но не рассмотрен
- **Подтверждено** (approved) - запрос одобрен администратором
- **Отклонено** (rejected) - запрос отклонён администратором

## Технические детали
- Все запросы сохраняются в базе данных
- Автоматическое обновление даты рассмотрения при изменении статуса
- Интеграция с существующей системой уведомлений
- Поддержка CSRF-защиты для всех форм 